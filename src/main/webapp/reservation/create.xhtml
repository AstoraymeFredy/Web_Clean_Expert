<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">

<h:head>

</h:head>
<body>
	<ui:composition template="/WEB-INF/templates/master_client.xhtml">
		<ui:define name="pageTitle">
	        Nueva reserva - Clean Expert
	    </ui:define>
		<ui:define name="content-body">
			<h:form id="frm" class="container">
				<div class="ui-g">
					<div class="ui-g-7  p-0">
						<p:panel styleClass="ui-panel">
							<h3 class="principal-title text-dark fw-bold mb-4">Reservar
								servicio</h3>
							<p class="text-primary fw-bold">Habitaciones</p>
							<div class="ui-fluid formgrid grid">
								<p:repeat value="#{reservaController.listaDetalleReserva}"
									var="detalle">
									<div class="field col-4">
										<p:outputLabel>#{detalle.ambiente.nombre}</p:outputLabel>
										<p:inputNumber id="txt#{detalle.ambiente.nombre}" minValue="0" maxValue="6"
										value="#{detalle.cantidad}" decimalPlaces="0" emptyValue="zero" />
									</div>
								</p:repeat>
							</div>
							
							<p class="text-primary fw-bold">Horario y lugar</p>
				
							<div class="ui-fluid formgrid grid">
								<div class="field col-12">
									<p:outputLabel for="cboDirecci贸n">Direcci贸n</p:outputLabel>
									<p:selectOneMenu id="cboDirecci贸n" required="true" effect="drop"
										value="#{reservaController.propiedad}"
										converter="omnifaces.SelectItemsConverter">
										<f:selectItem itemLabel="Seleccione una opci贸n"
											noSelectionOption="true" itemValue="" />
										<f:selectItems value="#{reservaController.listaDirecciones}"
											var="propiedad" itemLabel="#{propiedad.distrito.nombre} - #{propiedad.direccion}"
											itemValue="#{propiedad}" />
											<p:ajax event="change" update="@this"/>
									</p:selectOneMenu>
								</div>
								<div class="field col-6">
									<p:outputLabel for="txtFecha">Fecha</p:outputLabel>
									<p:calendar id="txtFecha" pattern="dd/MM/yyyy"
										value="#{reservaController.reserva.fecha}" showOn="button"
										timeZone="UTC" required="true">
									</p:calendar>
									
								</div>
								<div class="field col-6">
									<p:outputLabel for="txtHora">Hora</p:outputLabel>
									<p:datePicker id="txtHora" value="#{reservaController.reserva.hora_inicio}" timeOnly="true"
										stepMinute="60" mindate="08:00" maxdate="16:00" />
								</div>
							</div>
							<p class="text-primary fw-bold">Selecciona tu Clean Expert</p>
								<p:button value="Mostrar personal dispnible" styleClass="bg-primary" onclick="#{reservaController.listarPersonal()}"
								ajax="false" />
							<p class="text-primary fw-bold">Opciones</p>
							<p:selectBooleanCheckbox value="#{reservaController.reserva.kit_limpieza_extra}"
								itemLabel="Agregar kit de limpieza" />
							<div class="d-flex mt-4">
								<p:button value="Cancelar" styleClass="bg-secondary me-2"
									action="" ajax="false" />
								<p:commandButton value="Pagar" styleClass="bg-primary" action="#{reservaController.registrar()}"
								ajax="false" />
							</div>
						</p:panel>
					</div>
					<div class="ui-g-5  p-0">
						<p:panel styleClass="ui-panel">
							<h3 class="principal-title text-dark fw-bold mb-4">Resultados del servicio</h3>
									<div class="ui-fluid">
							<div class="field mb-2">
								<p:outputLabel value="Horas promedio" />
								<p  class="text-dark d-block" >5 horas</p>
							</div>
							<div class="field mb-2">
								<p:outputLabel value="Monto total a pagar" />
								<p  class="text-dark d-block" >s/. 50</p>
							</div>
								</div>
						</p:panel>
					</div>
				</div>
			</h:form>

		</ui:define>
	</ui:composition>

</body>
</html>
